/*! ht-solutions - v1.0.0 - 2016-01-09
* http://www.highstreet-technologies.com
* Copyright (c) 2016 highstreet technologies GmbH; Licensed Apache-2.0 */
!function(){"use strict";function a(){for(var a=0;a<arguments.length;++a)this[arguments[a]]=a;return this}var b=angular.module("alert",[]);b.factory("alertService",function(){var b={};b.id=new a("PROCESSING","SUCCESS","FAILED","WARNING"),b.isWorking=[!0,!1,!1],b.type=["warning","success","danger","warning"],b.message=["CALCULATING","CALCULATION_OK","CALCULATION_FAILED","WARNING"];var c=function(a){return{isWorking:b.isWorking[a],type:b.type[a],message:b.message[a]}},d={};return d.setMessage=function(a){b.message=a},d.processing=function(){return c(b.id.PROCESSING)},d.success=function(){return c(b.id.SUCCESS)},d.warning=function(){return c(b.id.WARNING)},d.failed=function(a){return c(b.id.FAILED)},d.clear=function(){return{}},d})}(),function(){"use strict";var a=angular.module("translate",["pascalprecht.translate"]);a.config(["$translateProvider",function(a){a.useStaticFilesLoader({prefix:"/modules/languages/lang-",suffix:".json"}),a.fallbackLanguage("en_US"),a.preferredLanguage("en_US"),a.useSanitizeValueStrategy("escaped")}]),a.factory("translateService",["$translate",function(a){var b={};return b.org=a,b.en_US={sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sZeroRecords:"No matching records found",oPaginate:{sFirst:"<span title='Show first entry' class='glyphicon glyphicon-fast-backward'></span>",sPrevious:"<span title='Show previous entries' class='glyphicon glyphicon-step-backward'></span>",sNext:"<span title='Show next entries' class='glyphicon glyphicon-step-forward'></span>",sLast:"<span title='Show last entry' class='glyphicon glyphicon-fast-forward'></span>"},oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"}},b.de_DE={sEmptyTable:"Keine Daten in der Tabelle vorhanden",sInfo:"_START_ bis _END_ von _TOTAL_ Einträgen",sInfoEmpty:"0 bis 0 von 0 Einträgen",sInfoFiltered:"(gefiltert von _MAX_ Einträgen)",sInfoPostFix:"",sInfoThousands:".",sLengthMenu:"_MENU_ Einträge anzeigen",sLoadingRecords:"Wird geladen...",sProcessing:"Bitte warten...",sSearch:"Suchen",sZeroRecords:"Keine Einträge vorhanden.",oPaginate:{sFirst:"<span title='Show first entry' class='glyphicon glyphicon-fast-backward'></span>",sPrevious:"<span title='Show previous entries' class='glyphicon glyphicon-step-backward'></span>",sNext:"<span title='Show next entries' class='glyphicon glyphicon-step-forward'></span>",sLast:"<span title='Show last entry' class='glyphicon glyphicon-fast-forward'></span>"},oAria:{sSortAscending:": aktivieren, um Spalte aufsteigend zu sortieren",sSortDescending:": aktivieren, um Spalte absteigend zu sortieren"}},b.es_ES={sProcessing:"Procesando...",sLengthMenu:"Mostrar _MENU_ registros",sZeroRecords:"No se encontraron resultados",sEmptyTable:"Ningan dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sSearch:"Buscar:",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"<span title='Show first entry' class='glyphicon glyphicon-fast-backward'></span>",sPrevious:"<span title='Show previous entries' class='glyphicon glyphicon-step-backward'></span>",sNFext:"<span title='Show next entries' class='glyphicon glyphicon-step-forward'></span>",sLast:"<span title='Show last entry' class='glyphicon glyphicon-fast-forward'></span>"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},b.changeLanguage=function(c,d){a.use(c),void 0!==d&&null!==d&&d.withOption("language",b[c])},b}])}();var app=angular.module("htLogin",["ui.bootstrap","base64","alert","translate"]);app.controller("htLoginCtrl",["$scope","$window","$location","authenticationService","alertService","translateService",function(a,b,c,d,e,f){"use strict";window.name="htSolutions",e.setMessage(["LOADING","SUCCESS","FAILED"]),a.changeLanguage=f.changeLanguage,a.login={},a.login.username="",a.login.password="",a.remember=!1,a.isWorking=!1,d.logout(function(){a.isWorking=!1}),a.success=function(c){d.isAuthenticated()?b.location.href="/ux/#/":(console.info("Must not happen! Code 124"),b.location.href="/#/login"),a.isWorking=!1},a.error=function(b){a.message="LOGIN_FAILURE",a.isWorking=!1},a.sendLogin=function(){a.isWorking=!0,d.login(a.login.email,a.login.password,a.success,a.error)}}]),app.factory("authenticationService",["$http","$base64","$cookies",function(a,b,c){"use strict";var d=function(a,b){return{method:"POST",url:"/auth/login",headers:{"Content-Type":"application/json"},data:{username:a,password:b}}},e="ht_session_auth_token",f="ht_profile",g={};return g.getUsername=function(a){return b.decode(a)},g.init=function(b){a.defaults.headers.common["X-Access-Token"]=b||c.token},g.isAuthenticated=function(){return c.get(e).indexOf("Bearer ")>-1},g.getProfileName=function(){return c.get(f)},g.login=function(h,i,j,k){var l=d(h,i);a(l).success(function(d,g,i,k){a.defaults.headers.common.Authorization="Bearer "+d.token,a.defaults.headers.common.Accept="application/json, text/javascript",a.defaults.headers.common["Content-Type"]="application/json; charset=utf-8",c.put(e,"Bearer "+d.token,{path:"/"}),c.put(f,b.encode(h),{path:"/"}),j(d)}).error(function(a){g.deleteToken(),k(a)})},g.logout=function(a){g.deleteToken(),a()},g.deleteToken=function(){null!==a.defaults.headers.common.Authorization&&delete a.defaults.headers.common.Authorization,c.remove(e),c.remove(f)},g}]);var app=angular.module("htSolutions",["ngRoute","ngCookies","htLogin"]);app.config(["$routeProvider",function(a){a.when("/login",{templateUrl:"/modules/login/login.html",controller:"htLoginCtrl"}).otherwise({redirectTo:"/login"})}]);